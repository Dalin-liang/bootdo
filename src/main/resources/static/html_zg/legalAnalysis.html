<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<!-- 设置360浏览器渲染模式,webkit 为极速内核，ie-comp 为 IE 兼容内核，ie-stand 为 IE 标准内核。 -->
		<meta name="renderer" content="webkit">
		<meta name="google" value="notranslate">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<meta http-equiv="Cache-Control" content="no-siteapp" />
		<title></title>
		<link rel="stylesheet" href="plugin/bootstrap4/bootstrap.css" />
		
		<link rel="stylesheet" href="plugin/font/font-awesome@4.7.0/css/font-awesome.min.css" />
		<link rel="stylesheet" href="css/iconfont.css" />
		<link rel="stylesheet" href="css/common.css" />
		<link rel="stylesheet" href="css/style.css" />
		<!--<link rel="stylesheet" href="css/table.css" />-->
		<link rel="stylesheet" type="text/css" href="css/part1.css" />

		<script type="text/javascript" src="plugin/jquery-1.11.3/jquery.min.js"></script>
		<script type="text/javascript" src="plugin/echarts.js"></script>
		<!--<script type="text/javascript" src="administration.js"></script>-->
				
		<script type="text/javascript" src="https://webapi.amap.com/maps?v=1.4.15&key=f298e5e7038506323629972a84492e89"></script>
		
	</head>

	<body>
		<div class="map">
			<div class="example-map" style="background-image: url(images/map.png)"></div>
		</div>
		<div class="header flex flex-m">
			<div class="title PangMen">正果镇法人大数据分析</div>
		</div>

		<div class="toggle_nav" style="top: 110px;width: 688px;margin: 0 auto;">
			<div class="toggle_nav_btn">
				<span class="fa fa-angle-double-down fa-angle-double-up"></span>
			</div>
			<div class="toggle_nav_con">
				<a class="" href="party.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/15.png"/>
						</div>
						<p>智慧党建</p>
					</div>
				</a>
				<a class="" href="administration.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/14.png"/>
						</div>
						<p>政务分析</p>
					</div>
				</a>
				<a class="" href="population.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/10.png"/>
						</div>
						<p>人口分析</p>
					</div>
				</a>
				<a class="" href="legalAnalysis.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/05.png"/>
						</div>
						<p>法人分析</p>
					</div>
				</a>
				<a class="" href="travel.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/09.png"/>
						</div>
						<p>旅游分析</p>
					</div>
				</a>
				<a class="" href="poverty.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/04.png"/>
						</div>
						<p>党内帮扶</p>
					</div>
				</a>
				<a class="" href="traffic.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/13.png"/>
						</div>
						<p>正果交通</p>
					</div>
				</a>
				<a class="" href="fireFighting.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/12.png"/>
						</div>
						<p>消防安全</p>
					</div>
				</a>
				<a class="" href="specialPop.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/11.png"/>
						</div>
						<p>特殊人群</p>
					</div>
				</a>
				<a class="" href="urbanecology.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/03.png"/>
						</div>
						<p>城市生态</p>
					</div>
				</a>
				<a class="" href="security.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
							<img src="img/17.png"/>
						</div>
						<p>综治形势</p>
					</div>
				</a>
				<a class="" href="violation.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
							<img src="img/08.png"/>
						</div>
						<p>两违监测</p>
					</div>
				</a>
				<a class="" href="safety.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
							<img src="img/01.png"/>
						</div>
						<p>安全生产</p>
					</div>
				</a>
				<a class="" href="dangerous.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/16.png"/>
						</div>
						<p>重点隐患</p>
					</div>
				</a>
				<a class="" href="industry.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/02.png"/>
						</div>
						<p>产业分析</p>
					</div>
				</a>
				<a class="" href="industrialAnalysis.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/06.png"/>
						</div>
						<p>工业增加值</p>
					</div>
				</a>
				<a class="" href="development.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/07.png"/>
						</div>
						<p>经济发展</p>
					</div>
				</a>
				<a class="" href="http://113.108.176.67:9094/login">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/02.png"/>
						</div>
						<p>后台管理</p>
					</div>
				</a>
				<a class="" href="index.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/18.png"/>
						</div>
						<p>城市运行特征</p>
					</div>
				</a>
				<a class="" href="http://172.27.162.37:8011/zgrms/Pages/main/mainPage.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/19.png"/>
						</div>
						<p>三防监测分析</p>
					</div>
				</a>
				<a class="" href="good_poverty.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/20.png"/>
						</div>
						<p>优秀扶贫项目</p>
					</div>
				</a>
			</div>
		</div>

		<div class="cont pad10">
			<div class="cont_l col-3">
				<div class="comborder1" style="height: 35%;">
					<div class="title">
						行业种类
					</div>
					<div class="border">
						<div class="pad10" id="chart1" style="height: 100%;width: 100%;">
							
						</div>
					</div>
				</div>
				<div class="comborder1 mt15" style="height: calc(35% - 15px);">
					<div class="title">
						产值信息
					</div>
					<div class="border">
						<div class="" id="chart3" style="height: 100%;width: 100%;">
							
						</div>
					</div>
				</div>
				<div class="comborder mt15" style="height: calc(30% - 15px);">
					<div class="border text-center pad10">
						<div class="ind_num font18 chart3 mt10">
							第一产业法人人数：  <span class="Digital num">49</span> 人
						</div>
						<div class="ind_num font18 chart3 mt10">
							第二产业法人人数：  <span class="Digital num">54</span> 人
						</div>
						<div class="ind_num font18 chart3 mt10">
							第三产业法人人数：  <span class="Digital num">75</span> 人
						</div>
					</div>
				</div>
			</div>
			<div class="cont_c col-6">
				<div class="comborder" style="height: 100%;">
					<div class="border chart4" style="height: 100%;">
						<div class="map_cont" id="map_main" style="height: 100%;width: 100%;">
							
						</div>
						<div class="data text-center" style="position: relative;z-index: 99;">
							<div class="inblock data_li lagal_li">							
								<p class="colornum"><span class="font40 Digital" id="firm_name">4549</span>人</p>
								<p class="colorblue">企业数量</p>
							</div>
							<div class="inblock data_li lagal_li">							
								<p class="colornum"><span class="font40 Digital" id="legal_name">4549</span>人</p>
								<p class="colorblue">法人数量</p>
							</div>
							<div class="inblock data_li lagal_li">							
								<p class="colornum"><span class="font40 Digital">58</span>亿元</p>
								<p class="colorblue">总注册资金</p>
							</div>
							<div class="inblock data_li lagal_li">							
								<p class="colornum"><span class="font40 Digital">9200</span>万</p>
								<p class="colorblue">总纳税</p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cont_r col-3">
				<div class="comborder1" style="height: 50%;">
					<div class="title">
						产业信息
					</div>
					<div class="border pad10">
						<div class="" id="chart2" style="height: 100%;width: 100%;">
							
						</div>
					</div>
				</div>
				<div class="comborder1 mt15" style="height: calc(50% - 15px);">
					<div class="title">
						产业分析
					</div>
					<div class="border pad10">
						<div class="" id="chart4" style="height: 100%;width: 100%;">
							
						</div>
					</div>
				</div>
			</div>
		</div>
	</body>
	<script>
//		法人大数据分析

		var mapComp;
		var map;
		var MapComp = function(){
			var domId="map_main";
			var _center = [113.892436,23.416955];
			var _map;
			var _def_zoom=12;
			var _curr_zoom = _def_zoom;
			var _max_zoom=20;
			var _min_zoom=8;
			this.init = function(){
		        _map = new AMap.Map(domId, {
		        	mapStyle: "amap://styles/dark"	,
		            zoom:_curr_zoom,//级别
		            center: _center,//中心点坐标
		            expandZoomRange:true,
		            zooms:[_min_zoom,_max_zoom],
		            layers:[
		                new AMap.TileLayer.Satellite(),
		                new AMap.TileLayer.RoadNet()
		            ]
		        });
		        map=_map;
			};
		
		}
		mapComp = new MapComp();
    	mapComp.init();
//		营业情况
		var dom1 = document.getElementById("chart1");
		var myChart1 = echarts.init(dom1);
		var option1 = null;
		option1 = { 
		    title : {
//		        text: '行业种类',
		        x:'center'
		    },
		    tooltip: {
		        trigger: 'item',
		        formatter: "{a} <br/>{b}: {c} ({d}%)"
		    },
		    legend: {
		        orient: 'vertical',
		        x: 'left',
		        data:['零售类','服务类','销售类','软件类','硬件类','其它类'],		        
			    textStyle:{
			    	color:"#fff",
			    },
		    },		    
		    textStyle:{
		    	color:"#fff",
		    },
		    grid: {
		        left: '200',
		    },
		    series: [
		        {
		            name:'访问来源',
		            type:'pie',
		            radius: ['70%', '90%'],
		            avoidLabelOverlap: false,
		            label: {
		                normal: {
		                    show: false,
		                    position: 'center'
		                },
		                emphasis: {
		                    show: true,
		                    textStyle: {
		                        fontSize: '30',
		                        fontWeight: 'bold'
		                    }
		                }
		            },
		            labelLine: {
		                normal: {
		                    show: false
		                }
		            },
		            data:[
//		                {value:335, name:'零售类'},
//		                {value:310, name:'服务类'},
//		                {value:234, name:'销售类'},
//		                {value:135, name:'软件类'},
//		                {value:235, name:'硬件类'},
//		                {value:589, name:'其它类'}
		            ]
		        }
		    ]
		};
		if (option1 && typeof option1 === "object") {
		    myChart1.setOption(option1, true);
		}
		
		$.ajax({
            url: '/api/nt/corporat/getTypeCorporatNum',
            dataType: 'json',
            type: 'get',
            success: function (result) {
            	title=[];
            	$.each(result.data,function(index,item){
            		title.push(item.name);
            	})
            	myChart1.setOption({
            		legend: {
				        data:title
				    },
                    series: [{
                        name: '销量',
                        data: result.data
                    }]
                });
            }
       })
		
//		数据分析
		
		$.ajax({
            url: '/api/nt/corporat/getAllCorporatNum',
            dataType: 'json',
            type: 'get',
            success: function (result) {
            	$("#firm_name").text(result.allCorporatNum)
            	$("#legal_name").text(result.allCorporatNum)
            }
       })
//		发展行业
		var dom2 = document.getElementById("chart2");
		var myChart2 = echarts.init(dom2);
		var option2 = null;
		option2 ={
//		    title : {
//		        text: '企业规模',
//		        x:'center'
//		    },
		    tooltip : {
		        trigger: 'item',
		        formatter: "{a} <br/>{b} : {c} ({d}%)"
		    },
		    legend: {
		        orient: 'vertical',
		        left: 'left',
		        data: ['50人以下','50~100人','100~200人','200~500人','500人以上'],		        	    
			    textStyle:{
			    	color:"#fff",
			    },
		    },		    	    
		    textStyle:{
		    	color:"#fff",
		    },
		    series : [
		        {
		            name: '访问来源',
		            type: 'pie',
		            radius : '55%',
		            center: ['55%', '70%'],
		            data:[
		                {value:66, name:'50人以下'},
		                {value:77, name:'50~100人'},
		                {value:40, name:'100~200人'},
		                {value:10, name:'200~500人'},
		                {value:2, name:'500人以上'}
		            ],
		            itemStyle: {
		                emphasis: {
		                    shadowBlur: 10,
		                    shadowOffsetX: 0,
		                    shadowColor: 'rgba(0, 0, 0, 0.5)'
		                }
		            }
		        }
		    ]
		};
		if (option2 && typeof option2 === "object") {
		    myChart2.setOption(option2, true);
		}
		
//		产业信息
		var dom3 = document.getElementById("chart3");
		var myChart3 = echarts.init(dom3);
		var option3 = null;
		option3 ={
		    title: {
//		        text: '产值信息'
		    },
		    tooltip: {
		        trigger: 'axis',
		        axisPointer: {
		            type: 'cross',
		            crossStyle: {
		                color: '#999'
		            }
		        }
		    },
		    legend: {
		        data:['产业数量','总值','产值增长率'],
		        textStyle:{
		        	color:"#fff",		        	
		        },
		    },
		    textStyle:{
		    	color:"#fff",
		    },
		    grid: {
		        left: '3%',
		        right: '5%',
		        bottom: '3%',
		        containLabel: true
		    },
		    xAxis: [
		        {
		            type: 'category',
		            data: ['2010年','2011年','2012年','2013年','2014年','2015年','2016年','2017年','2018年'],
		            axisPointer: {
		                type: 'shadow'
		            }
		        }
		    ],
		    yAxis: [
		        {
		            type: 'value',
		            name: '产业数量',
		            min: 0,
		            max: 250,
		            interval: 50,
		            axisLabel: {
		                formatter: '{value} 个'
		            }
		        },
		        {
		            type: 'value',
		            name: '总值',
		            min: 0,
		            max: 25,
		            interval: 5,
		            axisLabel: {
		                formatter: '{value} 千万'
		            }
		        }
		    ],
		    series: [
		        {
		            name:'产业数量',
		            type:'bar',
		            data:[62,72,83,99,158,160,169,170,178]
		        },
		        {
		            name:'总值',
		            type:'bar',
		            data:[44.6, 45.9, 59.0, 66.4, 68.7, 70.7, 75.6, 108.2, 148.7]
		        },
		        {
		            name:'产值增长率',
		            type:'line',
		            yAxisIndex: 1,
		            data:[7.0, 8.2, 12.3, 13.5, 18.3,19.2, 19.3, 19.4, 19.0]
		        }
		    ]
		};
		if (option3 && typeof option3 === "object") {
		    myChart3.setOption(option3, true);
		}
		
//		产业分析
		var dom4 = document.getElementById("chart4");
		var myChart4 = echarts.init(dom4);
		var option4 = null;
		var colors = ['#5793f3', '#d14a61', '#675bba'];
		option4 ={
		    title : {
		        text: '企业信息'
		    },
		    color: colors,
		
		    tooltip: {
		        trigger: 'axis',
		        axisPointer: {
		            type: 'cross'
		        }
		    },
		    grid: {
		    	top:'100',
		    	bottom:'20',
		        right: '20%'
		    },
		    toolbox: {
		        feature: {
		        }
		    },
		    legend: {
		        data:['企业数量','企业总注册资金','企业总纳税'],	
		        top:'10px',
			    textStyle:{
			    	color:"#fff",
			    },
		    },
		    textStyle:{
		    	color:"#fff",
		    },
		    xAxis: [
		        {
		            type: 'category',
		            axisTick: {
		                alignWithLabel: true
		            },
		            data: ['2010年','2011年','2012年','2013年','2014年','2015年','2016年','2017年','2018年']
		        }
		    ],
		    yAxis: [
		        {
		            type: 'value',
		            name: '企业数量',
		            min: 0,
		            max: 200,
		            position: 'right',
		            axisLine: {
		                lineStyle: {
		                    color: colors[0]
		                }
		            },
		            axisLabel: {
		                formatter: '{value} 家'
		            }
		        },
		        {
		            type: 'value',
		            name: '企业总注册资金',
		            min: 0,
		            max: 200,
		            position: 'right',
		            offset: 80,
		            axisLine: {
		                lineStyle: {
		                    color: colors[1]
		                }
		            },
		            axisLabel: {
		                formatter: '{value} 千万'
		            }
		        },
		        {
		            type: 'value',
		            name: '企业总纳税',
		            min: 0,
		            max: 10,
		            position: 'left',
		            axisLine: {
		                lineStyle: {
		                    color: colors[2]
		                }
		            },
		            axisLabel: {
		                formatter: '{value} 千万'
		            }
		        }
		    ],
		    series: [
		        {
		            name:'企业数量',
		            type:'line',
		            data:[65, 78, 99, 159, 163, 166, 169, 175, 188]
		        },
		        {
		            name:'企业总注册资金',
		            type:'bar',
		            yAxisIndex: 1,
		            data:[49.6, 66.9, 83.0, 116, 128, 134.7, 142.6, 152.2, 168.7]
		        },
		        {
		            name:'企业总纳税',
		            type:'bar',
		            yAxisIndex: 2,
		            data:[1.0, 1.2, 2.3, 2.5, 3.3, 4.2, 5.3, 6.4, 6.0]
		        }
		    ]
		};
		if (option4 && typeof option4 === "object") {
		    myChart4.setOption(option4, true);
		}
		$(document).ready(function(){
			$(".toggle_nav_btn").click(function(){
				$(".toggle_nav_btn").find(".fa").toggleClass("fa-angle-double-down")
				$(".toggle_nav_con").slideToggle()
			})
		})
	</script>
</html>