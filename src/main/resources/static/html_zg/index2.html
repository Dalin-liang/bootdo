<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<!-- 设置360浏览器渲染模式,webkit 为极速内核，ie-comp 为 IE 兼容内核，ie-stand 为 IE 标准内核。 -->
	<meta name="renderer" content="webkit">
	<meta name="google" value="notranslate">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta http-equiv="Cache-Control" content="no-siteapp" />
	<title></title>
	<link rel="stylesheet" href="plugin/bootstrap4/bootstrap.css" />
	<link rel="stylesheet" href="plugin/font/font-awesome@4.7.0/css/font-awesome.min.css" />
	<link rel="stylesheet" href="css/iconfont.css" />
	<link rel="stylesheet" href="css/common.css" />
	<link rel="stylesheet" href="css/style.css" />
	<link rel="stylesheet" href="css/table.css" />
	<script type="text/javascript" src="plugin/jquery-1.11.3/jquery.min.js"></script>
	<script type="text/javascript" src="plugin/echarts.js"></script>
</head>

<body style="background-color: #091220;">

	<!--<div class="map">
		<div class="example-map" style="background-image: url(images/map.png)"></div>
	</div>-->



	<div class="header flex flex-m">
		<div class="title PangMen">智慧正果门户平台</div>
	</div>

	<div class="topTitle">
		<div class="title">大数据平台</div>
		<div class="math-box flex flex-m">
			<li class="flex-1">
				<div class="math Digital rfc-info shadow">168</div>
				<div class="msg"><span>事件数量</span><span class="rfc-primary">1.3%</span><span
						class="fa fa-arrow-down rfc-primary"></span></div>
			</li>
			<li class="flex-1">
				<div class="math Digital rfc-warning shadow">168</div>
				<div class="msg"><span>事件数量</span><span class="rfc-danger">1.3%</span><span
						class="fa fa-arrow-up rfc-danger"></span></div>
			</li>
			<li class="flex-1">
				<div class="math Digital rfc-info shadow">168</div>
				<div class="msg"><span>事件数量</span><span class="rfc-primary">1.3%</span><span
						class="fa fa-arrow-down rfc-primary"></span></div>
			</li>
			<li class="flex-1">
				<div class="math Digital rfc-info shadow">168</div>
				<div class="msg"><span>事件数量</span><span class="rfc-primary">1.3%</span><span
						class="fa fa-arrow-down rfc-primary"></span></div>
			</li>
		</div>
		<div class="toggle_nav">
			<div class="toggle_nav_btn">
				<span class="fa fa-angle-double-down fa-angle-double-up"></span>
			</div>
			<div class="toggle_nav_con">
				<a class="" href="party.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/15.png"/>
						</div>
						<p>智慧党建</p>
					</div>
				</a>
				<a class="" href="administration.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/14.png"/>
						</div>
						<p>政务分析</p>
					</div>
				</a>
				<a class="" href="population.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/10.png"/>
						</div>
						<p>人口分析</p>
					</div>
				</a>
				<a class="" href="legalAnalysis.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/05.png"/>
						</div>
						<p>法人分析</p>
					</div>
				</a>
				<a class="" href="travel.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/09.png"/>
						</div>
						<p>旅游分析</p>
					</div>
				</a>
				<a class="" href="poverty.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/04.png"/>
						</div>
						<p>党内帮扶</p>
					</div>
				</a>
				<a class="" href="traffic.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/13.png"/>
						</div>
						<p>正果交通</p>
					</div>
				</a>
				<a class="" href="fireFighting.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/12.png"/>
						</div>
						<p>消防安全</p>
					</div>
				</a>
				<a class="" href="specialPop.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/11.png"/>
						</div>
						<p>特殊人群</p>
					</div>
				</a>
				<a class="" href="urbanecology.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/03.png"/>
						</div>
						<p>城市生态</p>
					</div>
				</a>
				<a class="" href="security.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
							<img src="img/17.png"/>
						</div>
						<p>综治形势</p>
					</div>
				</a>
				<a class="" href="violation.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
							<img src="img/08.png"/>
						</div>
						<p>两违监测</p>
					</div>
				</a>
				<a class="" href="safety.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
							<img src="img/01.png"/>
						</div>
						<p>安全生产</p>
					</div>
				</a>
				<a class="" href="dangerous.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/16.png"/>
						</div>
						<p>重点隐患</p>
					</div>
				</a>
				<a class="" href="industry.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/02.png"/>
						</div>
						<p>产业分析</p>
					</div>
				</a>
				<a class="" href="industrialAnalysis.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/06.png"/>
						</div>
						<p>工业增加值</p>
					</div>
				</a>
				<a class="" href="development.html">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/07.png"/>
						</div>
						<p>经济发展</p>
					</div>
				</a>
				<a class="" href="http://113.108.176.67:9094/login">
					<div class="inblock toggle_nav_li">
						<div class="img">
						<img src="img/02.png"/>
						</div>
						<p>后台管理</p>
					</div>
				</a>
			</div>
		</div>
	</div>

	<div class="data-map">
		<div class="warning_m" style="left: 250px;top:180px;">
			<div class="warning_t">GDP总值<br>10亿</div>
			<div class="warning_b"><span class="radius1"></span><span class="radius2"></span></div>
		</div>
		<div class="warning_m warning_m2" style="left: 420px;top:120px;">
			<div class="warning_t">GDP总值<br>10亿</div>
			<div class="warning_b"><span class="radius1"></span><span class="radius2"></span></div>
		</div>
		<div class="warning_m warning_m3" style="left: 580px;top:250px;">
			<div class="warning_t">GDP总值<br>10亿</div>
			<div class="warning_b"><span class="radius1"></span><span class="radius2"></span></div>
		</div>
		<img src="images/3dmap.png" alt="">
	</div>


	<div class="content content-left flex flex-v">
		<div class="item">
			<div class="hd"><span>案件统计</span></div>
			<div class="bd flex flex-m" style="height:180px;width: 100%" id="chart">
			</div>
		</div>
		<div class="item">
			<div class="hd"><span>人口结构</span></div>
			<div class="bd flex flex-m" style="height:200px;width: 100%;" id="chart1">
			</div>
		</div>
		<div class="item">
			<div class="hd"><span>旅游指数</span></div>
			<div class="bd flex flex-m" style="height:200px;width: 100%;" id="chart2">
			</div>
		</div>
	</div>


	<div class="content content-right flex flex-v">
		<div class="item">
			<div class="hd"><span>经济指数</span></div>
			<div class="bd flex flex-m" style="height:160px;">
				<img src="images/charts-4.png" style="width: 100%">
			</div>
		</div>
		<div class="item">
			<div class="hd"><span>环境指数</span></div>
			<div class="bd flex flex-m" style="height:200px;width: 100%;">
				<canvas id="AQI" width="300px" height="200px"></canvas>
				<div style="width: 100px;height: 100px;position: absolute;margin-top: 40px;text-align: center" id="AQIText">

				</div>
			</div>
		</div>
		<div class="item">
			<div class="hd"><span>舆情指数</span></div>
			<div class="bd flex flex-m" style="height:240px;">
				<img src="images/charts-6.png" style="width: 100%">
			</div>
		</div>
	</div>


	<div class="footer flex flex-m">

		<li class="icon-box" dataUrl="http://172.27.162.39:666/Emergency/web/client/pages/industry.html">
			<div class="ico iconfont icon-fangxunyingjizhihui"></div>
			<div class="msg">指挥调度</div>
		</li>
		<li class="icon-box" dataUrl="http://172.27.162.55:8080/smartbi">
			<div class="ico iconfont icon-danao"></div>
			<div class="msg">安全大脑</div>
		</li>
		<li class="icon-box" dataUrl="http://172.27.162.36:8080/project/login_toLogin.view">
			<div class="ico iconfont icon-xuanchuan"></div>
			<div class="msg">宣教系统</div>
		</li>
		<li class="icon-box" dataUrl="http://172.27.162.43:3142/login">
			<div class="ico iconfont icon-xiaofang"></div>
			<div class="msg">消防系统</div>
		</li>
		<li class="icon-box active" dataUrl="http://172.27.162.39:666/html_zg/index.html">
			<div class="ico iconfont icon-dashuju"></div>
			<div class="msg">大数据平台</div>
		</li>
		<li class="icon-box" dataUrl="http://admin.belter.com.cn/">
			<div class="ico iconfont icon-weibiaoti--"></div>
			<div class="msg">健康小屋</div>
		</li>
		<li class="icon-box" dataUrl="http://172.27.162.37:8011/zgrms/Pages/login/login.jsp">
			<div class="ico iconfont icon-lkingbolvsehuanbao"></div>
			<div class="msg">水务环保</div>
		</li>
		<li class="icon-box" dataUrl="http://172.27.162.43:8281/StreetLightApp/">
			<div class="ico iconfont icon-deng"></div>
			<div class="msg">智慧路灯</div>
		</li>
		<li class="icon-box" dataUrl="http://172.27.162.18:8080">
			<div class="ico iconfont icon-renlianshibie"></div>
			<div class="msg">人脸识别</div>
		</li>
		<li class="icon-box" dataUrl="http://172.27.162.48:8080/ylfw_zhengguo/page/login.jsp">
			<div class="ico iconfont icon-huiyuan1"></div>
			<div class="msg">特殊人群</div>
		</li>
	</div>


</body>
<script>
	$(document).ready(function(){
		$(".toggle_nav_btn").click(function(){
			$(".toggle_nav_btn").find(".fa").toggleClass("fa-angle-double-down")
			$(".toggle_nav_con").slideToggle()
		})
	})
	$(".icon-box").on("click",function(){
	    if($(this).attr("dataUrl")){
	        window.open($(this).attr("dataUrl"));
		}
	})

	var dom = document.getElementById("chart");
	var myChart = echarts.init(dom);
	option = null;
	option = {
		tooltip: {
			trigger: 'item',
			formatter: "{a} <br/>{b}: {c}件 ({d}%)"
		},
		legend: {
			orient: 'vertical',
			x: 'left',
			textStyle:{
				color:'white'
			}
		},
		series: [
			{
				name:'案件统计',
				type:'pie',
				center:["55%","55%"],
				radius: ['50%', '80%'],
				avoidLabelOverlap: true,
				labelLine: {
					normal: {
						show:true
					}
				},
				data:[
					{value:2, name:'安全生产'},
					{value:6, name:'两违事件'},
					{value:8, name:'交通事件'},
					{value:2, name:'森林火警'}
				]
			}
		]
	};
	if (option && typeof option === "object") {
		myChart.setOption(option, true);
	}

	var dom1 = document.getElementById("chart1");
	var myChart1 = echarts.init(dom1);
	var option1 = null;
	option1 = {
    color:['#64BD3D','#0000FF'],
    legend: {
        data: ['户籍人口', '常住人口'],
		textStyle:{
	            color:'white'
		}
    },
    tooltip: {
        trigger: 'axis',
        axisPointer: {
            type: 'cross',
            crossStyle: {
                color: '#999'
            }
        }
    },
    xAxis: {
        type: 'category',
        data:['201901','201902','201903','201904'],
        axisPointer: {
                type: 'shadow'
            },
		axisLabel: {
            	color: 'white'
		}
    },
    yAxis: {
         name: '人',
         type: 'value',
         rotate:30,//让坐标值旋转一定的角度
         min:function(value) {return Math.floor(value.min)-500;},
            max:function(value) {return Math.ceil(value.max)+500;},
		axisLabel: {
			color: 'white'
		},
        nameTextStyle:{
             color:'white'
		}
    },
    grid:{
        bottom:20,
		left:60,
        borderWidth:1
    },
    series: [
        {
            name:'户籍人口',
            type: 'bar',
            data:[53973,53073,52500,53173]
        },
         {
            name:'常住人口',
            type: 'bar',
            data:[53073,52073,51900,52373]
        }
    ]
};
	if (option1&& typeof option1 === "object") {
		myChart1.setOption(option1, true);
	}

	var dom2 = document.getElementById("chart2");
	var myChart2 = echarts.init(dom2);
	var option2 = null;
	option2 = {
    color:['#0000FF'],
    legend: {
		textStyle:{
	            color:'white'
		}
    },
    tooltip: {
        trigger: 'axis',
        axisPointer: {
            type: 'cross',
            crossStyle: {
                color: '#999'
            }
        }
    },
    xAxis: {
        type: 'category',
        data:['201905','201906','201907','201908'],
        axisPointer: {
                type: 'shadow'
            },
		axisLabel: {
            	color: 'white'
		}
    },
    yAxis: {
         name: '人',
         type: 'value',
         rotate:30,//让坐标值旋转一定的角度
		axisLabel: {
			color: 'white'
		},
        nameTextStyle:{
             color:'white'
		}
    },
    grid:{
        bottom:20,
		left:60,
        borderWidth:1
    },
    series: [
        {
            name:'旅游人数',
            type: 'bar',
            data:[804,920,1230,913]
        }
    ]
};
	if (option2&& typeof option2 === "object") {
		myChart2.setOption(option2, true);
	}

	$.ajax({
		url:'https://api.caiyunapp.com/v2/Y2FpeXVuIGFwaSB3ZWI/113.8998,23.4232/realtime.jsonp?callback=MYCALLBACK',
		dataType:'jsonp',
		type:'get'
	})
	function MYCALLBACK(data){
	    console.log(data);
	    var aqiArr=aqiChart(parseFloat(data.result.aqi));
		var aqi = document.getElementById('AQI');
		var ctx = aqi.getContext('2d');
		ctx.beginPath();
		ctx.lineWidth=30;
		ctx.strokeStyle=aqiArr[0];
		ctx.arc(150,180,130,-1*Math.PI,aqiArr[1]*Math.PI,false);
		ctx.stroke();
		var ctx1 = aqi.getContext('2d');
		ctx.beginPath();
		ctx.lineWidth=30;
		ctx.strokeStyle="#0CFFFDAA";
		ctx.arc(150,180,130,aqiArr[1]*Math.PI,0*Math.PI,false);
		ctx.stroke();
		$("#AQIText").append("<div class='hd'>AQI</div><div class='math Digital rfc-info shadow' style='color: #0CFFFD;font-size: 32px;'>"+parseInt(data.result.aqi)+"</div>")
	}

	function aqiChart(aqi){
	    var aqiArray=[];
	    if(aqi<50){
			aqiArray[0]="#0F0A";
		}else if(aqi>=50&&aqi<100){
	        aqiArray[0]="#FF0A";
		}else if(aqi>=100&&aqi<150){
	        aqiArray[0]="#FA0A"
		}else if(aqi>=150&&aqi<200){
	        aqiArray[0]="#F00A"
		}else if(aqi>=200){
	        aqiArray[0]="#A08A"
		}
		aqiArray[1]=(aqi/300)-1;
	    console.log(aqiArray);
	    return aqiArray;
	}
</script>
</html>